<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/assets/style/main.css">
    <title></title>
  </head>
  <body>
    <header>
      <h1><a href="/">Random Geekery</a></h1>
      <nav>
        <a href="/page/">All Pages</a>
        <a href="/post/">Posts</a>
        <a href="/now/">Now</a>
      </nav>
      <main>
        <h1></h1>
        
  <article class="page">
    

    
  <section>
    <header>
      <h2>
      
        post/2010/PHP Buzz Stream Reader
      
      </h2>
      
  
  
    <table>
      
        
          <tr>
            <th>summary</th>
            <td><ul>
<li></li>
</ul>
</td>
          </tr>
        
      
        
          <tr>
            <th>date</th>
            <td><p><em class="link-missing">2010-03-12</em></p>
</td>
          </tr>
        
      
        
          <tr>
            <th>tags</th>
            <td><ul>
<li></li>
</ul>
</td>
          </tr>
        
      
        
          <tr>
            <th>posse</th>
            <td><ul>
<li></li>
</ul>
</td>
          </tr>
        
      
        
      
    </table>
  

    </header>

    
  
    <section class="block">
      

      
  
    
      
        
  
    <section class="block">
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><em class="link-missing">2020-03-13</em>: Of course, Google long ago turned <em class="link-missing">Buzz</em> into <a href="https://plus.google.com/">Plus</a>, then abandoned <em>that</em>. Keeping the content here in case some fragment of the <a href="/php" class="page-link">PHP</a> can be useful to others.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <heading><p>Why and What?</p>
</heading>
        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Recently I updated the site so that it would summarize the latest posts from my blog. The motive is simple: my site does not get updated often, so data should be piped in from elsewhere to reassure people that I have not died in the middle of writing Parrot Babystep 09.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>The blog summary works. It’s nice. It’s pretty. Well, it’s pretty enough for me. The problem is that I am not the world’s most prolific blogger. I can write a lot, and I can write a little. The in-between world of blogs is uncomfortable territory for me. As a result, that nifty little summary only makes me look a little bit less dead than the old static update system I used.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>What about a <a href="http://twitter.com">Twitter</a> feed? That is easy enough, but the problem with Twitter feeds is that you get no context. I might be teasing a fellow Tweeter with <a href="http://foursquare.com">foursquare</a> jokes, but if you don’t know him and his seething hatred of all things foursquare then my commentary will seem nonsensical at best.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Besides, I haven’t been using Twitter quite as much recently. I’m on to the next shiny thing: <a href="https://en.wikipedia.org/wiki/Google_Buzz">Google
Buzz</a>. It provides the instant gratification of Twitter,
along with a system for commenting, liking, geolocation, sharing links, and more. It’s sort of like
<a href="http://facebook.com">Facebook</a>, except that it’s embedded into GMail and there’s no Mafia Wars yet.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>I’ve been <a href="http://www.google.com/profiles/brian.wisti#buzz">buzzing rather frequently</a>. I even
have my blog and <a href="http://www.flickr.com/photos/brianwisti/">Flickr</a> activity fed into Buzz, so my Buzz stream includes anything from either of those.</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <heading><p>How?</p>
</heading>
        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Let me throw an immediate disclaimer by saying that 80% of what I want is already implemented in the <a href="http://www.moretechtips.net/2010/02/google-buzz-widget-jquery-plugin.html">Google Buzz Widget</a>, a jQuery plugin which displays the contents of your Buzz stream. I tried it out, and it worked like a charm.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-html">&lt;script type=&quot;text/javascript&quot;
    src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;
    src=&quot;http://google-buzz-widget.googlecode.com/files/jquery.google-buzz-1.0.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    $(document).ready(function(){
        $('div.my-buzz').googleBuzz({
            username:'brian.wisti',
            n: 8,
            show_n:0
        });
    });
&lt;/script&gt;

&lt;div class=&quot;my-buzz&quot;&gt;loading..&lt;/div&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>A little CSS fiddling, and voila!</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><img src="../assets/buzz-widget_1719270800761_0.png" alt="buzz-widget.png"></p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>The only thing is that some stuff I really want sits in the other 20%:</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>the (admittedly lightweight) formatting from the original Buzz</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>the links I share</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>the images I post to Flickr.</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>I don’t blame the Google Buzz Widget for not having that information. It uses a Google service which does not yet provide those details. To get at that information <em>today</em> I’ll need to directly access the original feed, not the feed as translated by a service. Since I’m the sort of guy that enjoys reinventing wheels, I’ll put something together myself.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>My site runs on a shared host, and the freshest language available to me on that host is <a href="http://php.net">PHP</a>. I’m not a huge fan of the language, but I am pragmatic. If the most convenient tool available is PHP, then that’s what I’ll use.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>If they had <a href="http://modperlite.org">mod_perlite</a>, it would be a significantly different story. Oh well. Let’s begin.</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <heading><p>Start!</p>
</heading>
        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>The initial local development will be on the home Mac, running OS X 10.5 and PHP 5.2.11. My Web host supports newer versions of PHP - all the way up to 6 -but I’m not going to worry about it today.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <heading><p>Grab my own copy of the feed</p>
</heading>
        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>All right. I know for a fact that I’m going to be loading and manipulating this data a <em>lot</em> during the initial stage of development. I might as well grab a copy of the Buzz XML feed and work with it locally. That will save a bit of time and network load. Hey, every second counts.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Buzz feed URLs follow a simple pattern, with your username inserted at the appropriate place.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <blockquote>
<p><code>http://buzz.googleapis.com/feeds/username/public/posted</code></p>
</blockquote>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code>$ wget http://buzz.googleapis.com/feeds/brian.wisti/public/posted -O buzz.xml
...
2010-03-11 18:48:44 (754 KB/s) - `buzz.xml` saved [92972]
</code></pre>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <heading><p>Parse and Print</p>
</heading>
        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>The first task is to parse the XML and display the results. I enjoy <a href="http://php.net/manual/en/book.simplexml.php">SimpleXML</a> when handling XML in PHP-land, since it hands back a reasonable data structure without any fuss from me.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php

function dump($variable) {
    $output = htmlentities(print_r($variable, TRUE));
    return &quot;&lt;pre&gt;$output&lt;/pre&gt;&quot;;
}

$source = 'buzz.xml';
$buzz = simplexml_load_file($source);

// Printing this, because PHP chokes on the '&lt;?xml' Processing Instruction
print '&lt;?xml version=&quot;1.0&quot;?&gt;';
?&gt;
&lt;!DOCTYPE html
    PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;
    &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot; lang=&quot;en&quot;&gt;
    &lt;head&gt;
        &lt;title&gt;Buzz Stream Test&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Buzz Stream Test&lt;/h1&gt;
        &lt;?php echo dump($buzz) ?&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>The result is not exciting, but it does show that the XML is being parsed. I have created a simple <code>dump</code> function which will come in handy as I examine the information being displayed.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><img src="../assets/buzz-dump_1719271026805_0.png" alt="buzz-dump.png"></p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <heading><p>Show Entries</p>
</heading>
        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Now I want to display the entries. How about I start by dumping them?</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php

function dump($variable) {
    $output = htmlentities(print_r($variable, TRUE));
    return &quot;&lt;pre&gt;$output&lt;/pre&gt;&quot;;
}

$source = 'buzz.xml';
$buzz = simplexml_load_file($source);

// Printing this, because PHP chokes on the '&lt;?xml' Processing Instruction
print '&lt;?xml version=&quot;1.0&quot;?&gt;';
?&gt;
&lt;!DOCTYPE html
    PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;
    &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot; lang=&quot;en&quot;&gt;
    &lt;head&gt;
        &lt;title&gt;Buzz Stream Test&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Buzz Stream Test&lt;/h1&gt;
        &lt;?php foreach($buzz-&gt;entry as $entry): ?&gt;
        &lt;?php echo dump($entry) ?&gt;
        &lt;hr /&gt;
        &lt;?php endforeach ?&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>This lets me focus on the structure of an entry, at least as far as SimpleXML perceives it.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code>SimpleXMLElement Object
(
    [title] =&gt; Buzz by Brian Wisti from Buzz
    [summary] =&gt; Right. I set up a basic Buzz feed on my site using the jQuery Google Buzz Widget. It'll do while I'm hacking together one of my own for a new PHP project page on coolnamehere. That section's been a bit neglected.
    [published] =&gt; 2010-03-11T08:04:37.000Z
    [updated] =&gt; 2010-03-11T08:04:37.626Z
    [id] =&gt; tag:google.com,2009:buzz/z135dd3bwnadctqp404cd1tqkrqpyjgrmtg0k
    [link] =&gt; Array
        (
            [0] =&gt; SimpleXMLElement Object
                (
                    [@attributes] =&gt; Array
                        (
                            [rel] =&gt; alternate
                            [type] =&gt; text/html
                            [href] =&gt; http://www.google.com/buzz/108694322269563399860/UYqMxptshCD/Right-I-set-up-a-basic-Buzz-feed-on-my-site-using
                        )
                )
            [1] =&gt; SimpleXMLElement Object
                (
                    [@attributes] =&gt; Array
                        (
                            [rel] =&gt; replies
                            [type] =&gt; application/atom+xml
                            [href] =&gt; http://buzz.googleapis.com/feeds/108694322269563399860/comments/z135dd3bwnadctqp404cd1tqkrqpyjgrmtg0k
                        )
                )
        )
    [author] =&gt; SimpleXMLElement Object
        (
            [name] =&gt; Brian Wisti
            [uri] =&gt; http://www.google.com/profiles/brian.wisti
        )
    [content] =&gt; &lt;div&gt;Right. I set up a basic Buzz feed on my site using the jQuery Google Buzz Widget. It&amp;#39;ll do while I&amp;#39;m hacking together one of my own for a new PHP project page on coolnamehere. That section&amp;#39;s been a bit neglected.&lt;/div&gt;
)
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Quite a few details are being missed because SimpleXML has its own special tricks for handling namespaces, but a lot can be done before that is a concern. Let’s look at the information that <em>is</em> readily accessible and figure out what I can do with it.</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>title</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>The posting source is shown here (Buzz, Flickr, Mobile, etc.)</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>published</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>When the Buzz was posted</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>link</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>A collection of links associated with the buzz (the buzz itself,
posted links, images, replies, etc.)</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>content</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>The Buzz, formatted as an HTML fragment</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Let’s do some simple formatting. I’m not sure what to do with the links yet, so I’ll just <code>dump</code> them.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;body&gt;
    &lt;h1&gt;Buzz Stream Test&lt;/h1&gt;
    &lt;?php foreach ($buzz-&gt;entry as $entry): ?&gt;
        &lt;?php echo $entry-&gt;content ?&gt;
        &lt;p&gt;&lt;?php echo $entry-&gt;published ?&gt;&lt;/p&gt;
        &lt;p&gt;&lt;?php echo $entry-&gt;title ?&gt;&lt;/p&gt;
        &lt;?php foreach ($entry-&gt;link as $link): ?&gt;
            &lt;?php echo dump($link) ?&gt;
        &lt;?php endforeach ?&gt;
    &lt;?php endforeach ?&gt;
&lt;/body&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>So what does that get us?</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <aside class="note"><header>note</header><p><em class="link-missing">2024-06-24</em>: Oh that’s right. At one point this was a sort of cool direct embedding of my Buzz debug run into the page. Wonder if I could find a capture at <a href="https://archive.org">https://archive.org</a></p>
</aside>
        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-html">&lt;div class=&quot;example&quot;&gt;
&lt;div&gt;The sock begins&lt;/div&gt;
&lt;p&gt;2010-03-10T07:22:09.000Z&lt;/p&gt;
&lt;p&gt;Buzz by Brian Wisti from Flickr&lt;/p&gt;
&lt;pre&gt;SimpleXMLElement Object
(
    [@attributes] =&gt; Array
        (
            [rel]  =&gt; alternate
            [type] =&gt; text/html
            [href] =&gt; http://www.google.com/buzz/108694322269563399860/PaTypwpxCkH/The-sock-begins
        )

)
&lt;/pre&gt;
&lt;pre&gt;SimpleXMLElement Object
(
    [@attributes] =&gt; Array
        (
            [rel]   =&gt; enclosure
            [href]  =&gt; http://www.flickr.com/photos/20592809@N00/4422058708
            [type]  =&gt; image/jpeg
            [title] =&gt; The sock begins
        )

)
&lt;/pre&gt;
&lt;pre&gt;SimpleXMLElement Object
(
    [@attributes] =&gt; Array
        (
            [rel]  =&gt; replies
            [type] =&gt; application/atom+xml
            [href] =&gt; http://buzz.googleapis.com/feeds/108694322269563399860/comments/z13lhl3xavv4ujzga04cd1tqkrqpyjgrmtg0k
        )

)
&lt;/pre&gt;
&lt;/div&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>This particular example has three links.</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>An HTML “alternate” link that goes to the original Buzz post.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>An image “enclosure” link that leads to the <a href="http://www.flickr.com/photos/20592809@N00/4422058708">Flickr photo</a>.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>An Atom “replies” link that leads to a feed of replies for the original post.</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>I care about the alternate and enclosure links, but not about the replies. Now, every entry has an alternate link, but not all of them have enclosure links. I will need to do a little processing to display those links properly, but I don’t want that processing to occur down there in the display section. I like to keep my displays as simple as possible. I’m going to create a Buzz_Entry class to handle the hard work.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>The first stab at this class is going to be simple, just adding clearly defined links for the Buzz and any enclosure.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php

// Buzz/Entry.class.php
class Buzz_Entry
{

    function __construct($xml_node) {
        $this-&gt;title = $xml_node-&gt;title;
        $this-&gt;content = $xml_node-&gt;content;
        $this-&gt;published = $xml_node-&gt;published;
        $this-&gt;link = null;
        $this-&gt;enclosure = array();

        foreach($xml_node-&gt;link as $link) {
            switch($link['rel']) {
            case 'alternate':
                $this-&gt;link = $link['href'];
                break;
            case 'enclosure':
                $this-&gt;enclosure = $link;
                break;
            default:
                break;
            }
        }
    }
}

?&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>The newest iteration of the main file builds a collection of <code>Buzz_Entry</code> objects and takes advantage of the new attributes.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php

require 'Buzz/Entry.class.php';

function dump($variable) {
    $output = htmlentities(print_r($variable, TRUE));
    return &quot;&lt;pre&gt;$output&lt;/pre&gt;&quot;;
}

$source = 'buzz.xml';
$buzz = simplexml_load_file($source);
$entries = array();

foreach($buzz-&gt;entry as $entry_node) {
    $entry = new Buzz_Entry($entry_node);
    array_push($entries, $entry);
}

// Printing this, because PHP chokes on the '&lt;?xml' Processing Instruction
print '&lt;?xml version=&quot;1.0&quot;?&gt;';
?&gt;
&lt;!DOCTYPE html
    PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;
    &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot; lang=&quot;en&quot;&gt;
    &lt;head&gt;
        &lt;title&gt;Buzz Stream Test&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Buzz Stream Test&lt;/h1&gt;
        &lt;?php foreach ($entries as $entry): ?&gt;
            &lt;?php echo $entry-&gt;content ?&gt;
            &lt;p&gt;&lt;a href=&quot;&lt;?php echo $entry-&gt;link ?&gt;&quot;&gt;&lt;?php echo $entry-&gt;published ?&gt;&lt;/a&gt;&lt;/p&gt;
            &lt;p&gt;&lt;?php echo $entry-&gt;title ?&gt;&lt;/p&gt;
            &lt;?php if ($entry-&gt;enclosure): ?&gt;
                &lt;p&gt;&lt;a href=&quot;&lt;?php echo $entry-&gt;enclosure['href']?&gt;&quot;&gt;&lt;?php echo $entry-&gt;enclosure['title'] ?&gt;&lt;/a&gt;&lt;/p&gt;
            &lt;?php endif ?&gt;
        &lt;?php endforeach ?&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Hey look! Now there’s stuff you can click!</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>I want to refactor a little bit now, and put that initial logic into a separate file. It’s nice to keep your workplace tidy.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php

// Buzz.inc.php

require 'Buzz/Entry.class.php';

/**
 * Prints the guts of a variable as preformatted text.
 */
function dump($variable) {
    $output = htmlentities(print_r($variable, TRUE));
    return &quot;&lt;pre&gt;$output&lt;/pre&gt;&quot;;
}

/**
 * Creates a collection of Buzz_Entry objects by
 * parsing the Buzz feed found in $source.
 */
function load_buzz($source) {
    $buzz = simplexml_load_file($source);
    $entries = array();

    foreach($buzz-&gt;entry as $entry_node) {
        $entry = new Buzz_Entry($entry_node);
        array_push($entries, $entry);
    }

    return $entries;
}

?&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>This makes the initial PHP block of the main file simple.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php

require 'Buzz.inc.php';
$source = 'buzz.xml';
$entries = load_buzz($source);

// Printing this, because PHP chokes on the '&lt;?xml' Processing Instruction
print '&lt;?xml version=&quot;1.0&quot;?&gt;';
?&gt;
⋮
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Now that I’ve satisfied my general sense of tidiness for the moment, I want to make the “published” timestamp into something normal people can read.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php

class Buzz_Entry
{

    function __construct($xml_node) {
        $this-&gt;title = $xml_node-&gt;title;
        $this-&gt;content = $xml_node-&gt;content;

        // For your own formatting options, see:
        //   http://www.php.net/manual/en/function.date.php
        $this-&gt;published = date('g:i a, F jS', strtotime($xml_node-&gt;published));

        // ...
    }
}

?&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>It’s a good idea to set the time zone, especially if your “published” format includes the time. I set mine in <code>Buzz.inc.php</code>.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php

// Buzz.inc.php

date_default_timezone_set('America/Los_Angeles');

require 'Buzz/Entry.class.php';
// ...
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Now I don’t have to work so hard to figure out when a particular Buzz was posted.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-html">&lt;div class=&quot;example&quot;&gt;
&lt;div&gt;The sock begins&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://www.google.com/buzz/108694322269563399860/PaTypwpxCkH/The-sock-begins&quot;&gt;11:22 pm, March 9th&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Buzz by Brian Wisti from Flickr&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/20592809@N00/4422058708&quot;&gt;The sock begins&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>I want to make one more adjustment to the output. The phrase “Buzz by Brian Wisti from X” in every title is redundant. “X” is the important part. Let’s get rid of the title, and replace it with a source.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php

// Buzz/Entry.class.php

class Buzz_Entry
{

    function __construct($xml_node) {
        $this-&gt;source = str_replace('Buzz by Brian Wisti from ', '', $xml_node-&gt;title);
        $this-&gt;content = $xml_node-&gt;content;
        // ...
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>I can’t forget to change the reference in the main PHP file.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">// ...
&lt;?php foreach ($entries as $entry): ?&gt;
    &lt;?php echo $entry-&gt;content ?&gt;
    &lt;p&gt;&lt;a href=&quot;&lt;?php echo $entry-&gt;link ?&gt;&quot;&gt;&lt;?php echo $entry-&gt;published ?&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;p&gt;&lt;?php echo $entry-&gt;source ?&gt;&lt;/p&gt;
// ...
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Better?</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-html">&lt;div class=&quot;example&quot;&gt;
&lt;div&gt;The sock begins&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://www.google.com/buzz/108694322269563399860/PaTypwpxCkH/The-sock-begins&quot;&gt;11:22 pm, March 9th&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Flickr&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/20592809@N00/4422058708&quot;&gt;The sock begins&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Yes. Each entry now has what I consider a comfortable amount of information. Sure, I would
love to embed the image into the entry, but that can wait. At least the link to the image is being displayed.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Besides, if I wait too long the Buzz API will cover all of this. I want something up <em>today</em>.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Now that I have the information I want, it’s time to make the entries pretty with a little shuffling and some CSS.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php foreach ($entries as $entry): ?&gt;
    &lt;div class=&quot;entry&quot;&gt;
        &lt;?php echo $entry-&gt;content ?&gt;
        &lt;?php if ($entry-&gt;enclosure): ?&gt;
            &lt;p class=&quot;enclosure&quot;&gt;
                &lt;a href=&quot;&lt;?php echo $entry-&gt;enclosure['href']?&gt;&quot;&gt;&lt;?php echo $entry-&gt;enclosure['title'] ?&gt;&lt;/a&gt;
            &lt;/p&gt;
        &lt;?php endif ?&gt;
        &lt;p class=&quot;published&quot;&gt;
            &lt;a href=&quot;&lt;?php echo $entry-&gt;link ?&gt;&quot;&gt;&lt;?php echo $entry-&gt;published ?&gt;&lt;/a&gt;
            (via &lt;?php echo $entry-&gt;source ?&gt;)
        &lt;/p&gt;
    &lt;/div&gt;
&lt;?php endforeach ?&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Here are the style rules that I used.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-css">.entry {
    border: thin solid black;
    padding: 0.5em;
    margin: 0.5em;
}

.entry a {
    text-decoration: none;
}

.entry p.published {
    text-align: right;
    font-size: 75%;
    margin: 0;
}

.entry p.enclosure {
    margin-left: 1em;
}
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>And the result may not be pretty, but it’s definitely better looking
than it was before.</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <heading><p>Live Data</p>
</heading>
        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Most of my fiddling is done. It is time to use live data. On the home machine, I only need to change the value of $source, because I have <a href="http://us2.php.net/manual/en/filesystem.configuration.php#ini.allow-url-fopen">allow_url_fopen</a> enabled.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php
require 'Buzz.inc.php';

// Remember to replace 'brian.wisti' with your username
$source = 'http://buzz.googleapis.com/feeds/brian.wisti/public/posted';
$entries = load_buzz($source);
# ...
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>However, more is needed for this to work on the shared host. allow_url_fopen is not available, but the <a href="http://us2.php.net/manual/en/ref.curl.php">PHP cURL functions</a> are. Well, we work with what we have.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php

// Buzz.inc.php

// ...

function load_buzz($source) {
    if (ini_get('allow_url_fopen') == 'waffles') {
        $buzz = simplexml_load_file($source);
    } elseif (function_exists('curl_init')) {
        $curl = curl_init();
        curl_setopt($curl, CURLOPT_URL, $source);
        curl_setopt($curl, CURLOPT_HEADER, 0);
        curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);
        $raw_xml = curl_exec($curl);
        curl_close($curl);
        $buzz = new SimpleXMLElement($raw_xml);
    } else {
        throw new Exception(&quot;No reasonable fetching function available&quot;);
    }

    $entries = array();

    foreach($buzz-&gt;entry as $entry_node) {

        $entry = new Buzz_Entry($entry_node);
        array_push($entries, $entry);
    }

    return $entries;
}
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Most of you can stop right here, but I need to do one more step. This site is actually a bunch of static HTML content, with no server side interaction. Well, almost static. I give myself  permission to include content feeds from supplemental files and sites via JavaScript.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>It’s my site, and I go by my own strange rules. At least I try to be consistent.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>I’m going to do some quick and dirty <a href="http://en.wikipedia.org/wiki/Ajax_(programming)">AJAX</a>. Very quick, and very dirty. Let’s change the main <code>buzz.php</code> file so that it generates an HTML fragment rather than a whole valid page.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php

require 'Buzz.inc.php';
$source = 'http://buzz.googleapis.com/feeds/brian.wisti/public/posted';
$entries = load_buzz($source);
?&gt;
&lt;?php foreach ($entries as $entry): ?&gt;
    &lt;div class=&quot;entry&quot;&gt;
        &lt;?php echo $entry-&gt;content ?&gt;
        &lt;?php if ($entry-&gt;enclosure): ?&gt;
            &lt;p class=&quot;enclosure&quot;&gt;
                &lt;a href=&quot;&lt;?php echo $entry-&gt;enclosure['href']?&gt;&quot;&gt;&lt;?php echo $entry-&gt;enclosure['title'] ?&gt;&lt;/a&gt;
            &lt;/p&gt;
        &lt;?php endif ?&gt;
        &lt;p class=&quot;published&quot;&gt;
            &lt;a href=&quot;&lt;?php echo $entry-&gt;link ?&gt;&quot;&gt;&lt;?php echo $entry-&gt;published ?&gt;&lt;/a&gt;
            (via &lt;?php echo $entry-&gt;source ?&gt;)
        &lt;/p&gt;
    &lt;/div&gt;
&lt;?php endforeach ?&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>I will continue using <a href="http://jquery.com">jQuery</a> as the framework for JavaScript interaction at this site, because it’s familiar to me.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-html">&lt;script type=&quot;text/javascript&quot; src=&quot;inc/js/jquery-1.4.2.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;inc/js/cnh.js&quot;&gt;&lt;/script&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Off in my site JavaScript file <code>cnh.js</code>, I set up the buzz-loading function. All it does is grab the output from <code>buzz.php</code> and insert it into the document.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-javascript">function get_buzz(div) {
    $.ajax({
        url: &quot;/buzz/buzz.php&quot;,
        cache: false,
        success: function(summary) {
            div.append(summary);
        }
    });
}
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Finally, I add the function call to my site index:</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-html">&lt;div id=&quot;buzz&quot;&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
$(document).ready(function(){ get_buzz($('#my-buzz')); })
&lt;/script&gt;
&lt;noscript&gt;
&lt;p&gt;See my latest updates on &lt;a
href=&quot;http://www.google.com/profiles/brian.wisti#buzz&quot;&gt;Google Buzz&lt;/a&gt;.&lt;/p&gt;
&lt;/noscript&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Hopefully you can now go to my home page and see a Buzz feed!</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <aside class="note"><header>note</header><p>Well, you could have if it was 2010 and Google Buzz was still a thing. Oh well.</p>
</aside>
        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php

// Buzz.inc.php

// ...

function load_buzz($source, $limit = 10) {
    if (ini_get('allow_url_fopen') == 'waffles') {
        $buzz = simplexml_load_file($source);
    } elseif (function_exists('curl_init')) {
        $curl = curl_init();
        curl_setopt($curl, CURLOPT_URL, $source);
        curl_setopt($curl, CURLOPT_HEADER, 0);
        curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);
        $raw_xml = curl_exec($curl);
        curl_close($curl);
        $buzz = new SimpleXMLElement($raw_xml);
    } else {
        throw new Exception(&quot;No reasonable fetching function available&quot;);
    }

    $entries = array();

    foreach($buzz-&gt;entry as $entry_node) {
        if ($limit &lt;= 0) { break; }

        $entry = new Buzz_Entry($entry_node);
        array_push($entries, $entry);
        $limit--;
    }

    return $entries;
}
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Okay. That’s a good enough hack for a low-traffic site like mine.</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <heading><p>Cache the Output</p>
</heading>
        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>What would happen if I got twelve million hits per minute because the world had suddenly become obsessed over whether I would ever finish knitting those socks?</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Well, my educated guess is that <a href="http://coolnamehere.com">coolnamehere.com</a> would be hosed. I have a good host for the price, but I think that is more traffic than your average shared host would be prepared for.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>I can take precautions to reduce the load, though. One that comes to mind is caching the HTML output to a file, and only checking for updates every 30 minutes or so. That will involve using PHP’s <a href="http://www.php.net/manual/en/ref.outcontrol.php">output control functions</a> to store the output which would normally be printed.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>I’m putting the display block into a template file, to make the application flow a little easier to understand. The display block does get an additional item to tell me <em>when</em> the cache was last built.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php /* Buzz/Template.inc.php */ ?&gt;
&lt;p class=&quot;generated&quot;&gt;Generated at &lt;?php echo $build_time ?&gt;&lt;/p&gt;

&lt;?php foreach ($entries as $entry): ?&gt;
    &lt;div class=&quot;entry&quot;&gt;
        &lt;?php echo $entry-&gt;content ?&gt;
        &lt;?php if ($entry-&gt;enclosure): ?&gt;
            &lt;p class=&quot;enclosure&quot;&gt;
                &lt;a href=&quot;&lt;?php echo $entry-&gt;enclosure['href']?&gt;&quot;&gt;&lt;?php echo $entry-&gt;enclosure['title'] ?&gt;&lt;/a&gt;
            &lt;/p&gt;
        &lt;?php endif ?&gt;
        &lt;p class=&quot;published&quot;&gt;
            &lt;a href=&quot;&lt;?php echo $entry-&gt;link ?&gt;&quot;&gt;&lt;?php echo $entry-&gt;published ?&gt;&lt;/a&gt;
            (via &lt;?php echo $entry-&gt;source ?&gt;)
        &lt;/p&gt;
    &lt;/div&gt;
&lt;?php endforeach ?&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>The main <code>buzz.php</code> looks a bit different now. Instead of jumping straight to the display, it looks for a cache file. If the cache file is new enough -defined here as less than 30 minutes old - then the script goes the easy way out and loads the cache. Otherwise, it buffers the output into a string, which is then saved to the cache file.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php

require 'Buzz.inc.php';
$source = 'http://buzz.googleapis.com/feeds/brian.wisti/public/posted';
$html_cache = &quot;/tmp/buzz.html&quot;;
$cache_limit = 30 * 60; // Maximum allowed age for cache, in seconds

// Load the cache if it exists and is new enough.
if (file_exists($html_cache)) {
    $cache_age = time() - filemtime($html_cache);

    if ($cache_age &lt; $cache_limit) {
        $output = file_get_contents($html_cache);
    }
}

// Build the cache if it is not loaded.
if (!$output) {
    $entries = load_buzz($source);
    $build_time = date('g:i a, F jS', time());
    ob_start();
    require('Buzz/Template.inc.php');
    $output = ob_get_contents();
    file_put_contents($html_cache, $output);
}

echo $output;

?&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Oh right. Whatever the output was gets sent to the browser. Don’t want to forget about that.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Sweet. It worked. I make a couple minor adjustments relevant to my shared host settings, upload what I have, and hope for the best.</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <heading><p>A Quick Bug Fix</p>
</heading>
        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>One issue is that the output gets displayed twice when the cache is first built.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>The problem is that I’m building <code>$output</code> by capturing standard output, and then printing out <code>$output</code>. What I didn’t stop to think about is the fact that standard output still gets displayed when the script is done running.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Okay, so a quick fix is to only display output when it’s loaded from the cache file.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-php">&lt;?php

require 'Buzz.inc.php';
$source = 'http://buzz.googleapis.com/feeds/brian.wisti/public/posted';
$production_temp = '/home/bwisti/tmp';

if (file_exists($production_temp)) {
    $html_cache = &quot;$production_temp/buzz.html&quot;;
} else {
    $html_cache = &quot;/tmp/buzz.html&quot;;
}

$cache_limit = 30 * 60; // Maximum allowed age for cache, in seconds

// Load the cache if it exists and is new enough.
if (file_exists($html_cache)) {
    $cache_age = time() - filemtime($html_cache);

    if ($cache_age &lt; $cache_limit) {
        $output = file_get_contents($html_cache);
        echo $output;
    }
}

// Build the cache if it is not loaded.
if (!isset($output)) {
    $entries = load_buzz($source);
    $build_time = date('g:i a, F jS', time());
    ob_start();
    require('Buzz/Template.inc.php');
    $output = ob_get_contents();
    file_put_contents($html_cache, $output);
}

?&gt;
</code></pre>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <heading><p>Next Steps</p>
</heading>
        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>There is a lot more information in the XML that I haven’t used with my naive application of SimpleXML. Once my eyes have uncrossed from this quick burst of activity, I’ll want to figure out how to get at those details and incorporate them into the feed.</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  

    </section>
  

  </section>

  </article>

      </main>
      <footer>
      <p>
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">My Public Brain</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://randomgeekery.online" property="cc:attributionName" rel="cc:attributionURL">Brian Wisti</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
      </p>

      <p>
        Notes written in <a href="https://logseq.com">Logseq</a> and published with <a href="https://11ty.dev">Eleventy</a>.
      </p>
      </footer>
      
  </body>
</html>
