<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/assets/style/main.css">
    <title></title>
  </head>
  <body>
    <header>
      <h1><a href="/">Random Geekery</a></h1>
      <nav>
        <a href="/page/">All Pages</a>
        <a href="/post/">Posts</a>
        <a href="/now/">Now</a>
      </nav>
      <main>
        <h1></h1>
        
  <article class="page">
    

    
  <section>
    <header>
      <h2>
      
        2023-09-01
      
      </h2>
      
  
  

    </header>

    
  
    <section class="block">
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p><a href="https://media.defcon.org/DEF%20CON%2031/DEF%20CON%2031%20video%20and%20slides/DEF%20CON%2031%20-%20The%20Internals%20of%20Veilid%2C%20a%20New%20Decentralized%20Application%20Framework%20-%20Christien%20-%20DilDog%20-%20Rioux%20and%20Katelyn%20-%20Medus4%20-%20Bowden.mp4">DEFCON Video</a> about <a href="/veilid" class="page-link">Veilid</a></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Needed to download and H.265 → H.264 convert with <em>HandBrake</em></p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>prior art</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p><em>Tor</em></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Privacy-oriented network</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><em>IPFS</em></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Inter Planetary File System</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Distributed Data Storage</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>similar but designed for speed and providing services over a privately routed network</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>goals</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Security First</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Rust</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Runs Everywhere</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Standard Protocols</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>UDP</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>TCP</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Websockets</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>All In network</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>No external services</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>avoid DNS</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>No STUN / TURN</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Privacy Focused</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Nodes != Identity</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Resilient</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>latency</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>high churn</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>network switching</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>community and user focus</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <blockquote>
<p>everybody deserves privacy</p>
</blockquote>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>Nodes</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>every application running veilid-core is a node</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>no special nodes</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>headless nodes with veilid-server</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>JSON API for simple apps</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>veilid-python</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>veilid-cli</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>protocols</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>framed RPC operations up to 64k</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>Network Topology</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>on node activation keys are fetched from Veilid bootstrap server</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>that’s where DNS comes in, but after that it’s a Veilid-specific routing table</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>bootstrapped info is persistent, so shouldn’t need to be fetched again</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>Bootstrapping</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>ask bootstraps to find self</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>public address detection</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>relay configuration</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>peer minimumr efresh</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>network class detection</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>ping validation</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>cryptography</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p><em>VLD0</em></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Veilid cryptography suite</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <blockquote>
<p>We did not roll our own crypto. We know better than that.</p>
</blockquote>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <table>
<thead>
<tr>
<th>Property</th>
<th>Spec Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>Authentication</td>
<td>ED25519</td>
</tr>
<tr>
<td>Key Exchange</td>
<td>x25519</td>
</tr>
<tr>
<td>Encryption</td>
<td>XChaCha20-Poly1305</td>
</tr>
<tr>
<td>Message Digest</td>
<td>BLAKE3</td>
</tr>
<tr>
<td>Key Derivation</td>
<td>Argon2</td>
</tr>
</tbody>
</table>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Secure Storage</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p><em>ProtectedStore</em></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>device-level</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><em>TableStore</em></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>encrypted key-value database</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><em>RecordStore</em></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>distributed hash table storage</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><em>BlockStore</em></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>content-addressable data distribution</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>RPC Protocol</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>default port 5150</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Schema Language</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Cap’n Proto</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Developed by Protobuf author; intended to address some of its shortcomings</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>RPC</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p><em>Question / Answer</em> and <em>Statement</em> RPC modes are supported</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>private routing structures fully supported in-schema (no magic blobs)</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Schema evolution built-in</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>RPC schema is cryptography-independent</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>RPC ops are a nested set of Cap’n Proto operations to described actions</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>Distributed Hash Tables (DHT)</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>basically just search</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>better search w/ 1MB per key</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>signed keys with public and private values</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>allows multiple writers to key sub-chunks</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>Private Routing</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p><em>safety route</em></p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><em>private route</em></p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><em>compiled route</em></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>addresses and public keys of next hop are embedded in packet envelope</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>future</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>per-hop payload keying</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>simplify directionality</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>increase hop count</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>eliminate hop counting</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>hop caching</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>There’s a Power User Quick Start</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>FFI+JS plugin support for Dart and Flutter</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>how can you help?</strong></p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>coders and hackers</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>app developers</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>usability experts</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>open source + governance</p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>15:09</strong>  New feature on <a href="/my-public-brain" class="page-link">My Public Brain</a>: slugs instead of UUIDs for permalinks</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Nothing fancy yet. Just use <code>slug(pageBlock[&quot;page-name&quot;])</code> for every top-level block in the exported graph.</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><a href="https://www.npmjs.com/package/slug">slug - npm</a></p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><strong>20:43</strong> Problem: JRuby won’t install gems on my Temurin JDK installation on Windows via Nushell.</p>

        
      

      
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code>&gt; jgem install glimmer-dsl-swt
ERROR:  While executing gem ... (Errno::EACCES)
    Permission denied - NUL
        org/jruby/RubyIO.java:1259:in `sysopen'
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p>Key detail turned out to be Temurin + Windows. Needed to adjust <code>JAVA_OPTS</code> environment variable. For Nu:</p>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <pre><code class="language-nu">$env.JAVA_OPTS = &quot;-Djdk.io.File.enableADS=true&quot;
</code></pre>

        
      

      
  

    </section>
  

      
    
  
    
      
        
  
    <section class="block">
      
        

        
          <p><a href="https://github.com/jruby/jruby/issues/7182#issuecomment-1112953015">java jruby-complete-9.3.4.0.jar org.jruby.Main -rjars/setup -S gem install --debug --backtrace msgpack -v 1.1.0 failed windos-latest environment only. · Issue #7182 · jruby/jruby · GitHub</a></p>

        
      

      
  

    </section>
  

      
    
  

    </section>
  

      
    
  

    </section>
  

  </section>

  </article>

      </main>
      <footer>
      <p>
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">My Public Brain</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://randomgeekery.online" property="cc:attributionName" rel="cc:attributionURL">Brian Wisti</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
      </p>

      <p>
        Notes written in <a href="https://logseq.com">Logseq</a> and published with <a href="https://11ty.dev">Eleventy</a>.
      </p>
      </footer>
      
  </body>
</html>
